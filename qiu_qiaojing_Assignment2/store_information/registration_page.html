<script>
    // Check Full Name textbox input is valid or not
    // Reference: https://www.w3resource.com/javascript/form/all-letters-field.php
    function isValidFullName (fullnameTextboxOb) {  
        var letters = /^[A-Za-z]+$/;
        if(fullnameTextboxOb.value.match(letters)) {
            full_name_message.innerHTML = ' '
        }
        else {
            full_name_message.innerHTML = 'Please enter valid full name!';
            return false;
        }
    }

    // Check whether the user name is valid or not
    // Reference https://www.w3resource.com/javascript/form/letters-numbers-field.php
        function isValidUserName (usernameTextboxOb) {
            var validinput = /^[0-9a-zA-Z]+$/;
            if (usernameTextboxOb.value.match(validinput)) {
                user_name_message.innerHTML = ' ';
            } else {
                user_name_message.innerHTML = 'Please enter valid user name!'
            }
        }

    // Check whether the confirm password is matched with the first password or not
        function isPasswordMatch (password2TextboxOb) {
        var password1 = document.getElementsByName("new_password1").value;
        if (password2TextboxOb.value == password1.value) {
            confirm_password_message.innerHTML = ' ';
        } 
        else {
            confirm_password_message.innerHTML = 'Password does not match up!'
        }
    }


    // Check Email textbox input is valid or not
    // Reference: https://www.w3resource.com/javascript/form/email-validation.php
    function isValidEmail (emailTextboxOb) {
        var mailformet = /^[a-zA-Z0-9._]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
        if(emailTextboxOb.value.match(mailformet)) {
            email_message.innerHTML = ' ';
        } else {
            email_message.innerHTML = 'Please enter valid email!';
        }
    }

</script>



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Client</title>
</head>
<body>
    <script>
    // To keep client's input in the query
        document.write(`
    <form name="registration_page" action="process_register${location.search}" method="POST">
        `)
    </script>    
    <h1>Tax Preparation Company</h1> 
    <p>Welcome to <i>Tax Preparation Company</i>! <br>Please fill out the form below to register an account. <br>After you finished the registration process, this page will transfer to the login page.</p>
    <br>
    <div>
    <!--Create an textbox for client to input information-->
    <!--Check information in each textbox if it is valid-->
    <label>Full Name</label>
    <input name='new_client_full_name' type='text' required maxlength="30" onchange="isValidFullName(this)"><br>
    <span id='full_name_message'></span>
    <br><br>
    <label>Username:</label>
    <input name='new_user_name' type="text" required minlength="4" maxlength="10" size='10'  onchange='isValidUserName(this)'><br>
    <span id='user_name_message'></span>
    <br><br>
    <label>Password</label>
    <input name='new_password1' type='password' required minlength="6" >
    <br>
    <label>Confirm Password</label>
    <input name='new_password2' type='password' required minlength="6" onchange="isPasswordMatch(this)" ><br>
    <span id='confirm_password_message'></span>
    <br><br>
    <label>Email Address</label>
    <input name='new_email' type='text' onchange="isValidEmail(this)"><br>
    <span id='email_message'></span>
    <br><br>
    <input style="font-size: 15px;background-color: lightgrey;" type="submit" value="Create an account" onclick="window.location.href = 'login_page.html'">
    </div>
<ul>
    <li>The username should have at least 4 characters but not exceed 10 characters.</li>
    <li>Please only input letters and numbers in the username box.</li>
    <li>Username and email address are case insensitive.</li>
    <li>Password is case sensitive.</li>
</ul>
</form>
    <p>Already have an account?</p>
    <a href="./login_page.html">
    <button style="font-size: 15px;background-color: lightgrey;">Back to login</button>
    </a>
</body>
</html>
<style>
    h1 {
        font-size: 70px;
        text-align: center;
        font-family: 'Courier New';
    }
    p {
        font-size: 25px;
        font-family: 'Courier New';
    }
    div {
        font-size: 20px;
        font-family: 'Courier New';
        border: lightgrey 2px solid;
    }
    body {
        background-image: url(./image/website_background.jpg);
        text-align: center;
        font-family: 'Courier New';
    }
</style>

